'use client'
import { Avatar, AvatarGroup, Box, Button, Container, Divider, Grid, TextField, Typography } from '@mui/material';
import React from 'react'
import Select, { SelectChangeEvent } from '@mui/material/Select';
import ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';
import { useDispatch, useSelector } from 'react-redux';
import topbarHooks from '@/hooks/topbarHooks';
import { RootState } from '@reduxjs/toolkit/query';


const menuItems = [
    "Dashboard",
    "Register New Membership",
    "Members",
    "Transaction History",
    "Renew Membership",
    "Cashback",
    "Appointments",
    "Reports"
];




const TopBar = () => {

    const { title } = useSelector((state: RootState) => state.topbar);
    const { handleSelectTitile } = topbarHooks();


    return (
        <section>
            <Box>
                <Box sx={{ background: "#0D382B", height: "68px", display: "flex", justifyContent: "space-between" }}>
                    <Container maxWidth="xl" sx={{ display: "flex", justifyContent: "space-between", alignItems: "center", height: "68px", gap: 3 }}>
                        <Box sx={{ display: "flex", justifyItems: "start", alignItems: "center", height: "68px", gap: 3 }}>
                            <Typography>
                                <svg width="94" height="20" viewBox="0 0 94 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M39.8713 10.3188C39.8713 15.4783 35.737 19.6546 30.6347 19.6546C27.5296 19.6546 24.7836 18.1001 23.1106 15.7263C28.9398 13.3304 33.5209 8.4942 35.6275 2.46672C38.1808 4.11863 39.8713 7.01501 39.8713 10.3144V10.3188Z" fill="#03C136" />
                                    <path d="M35.6275 2.46672C33.5253 8.4942 28.9398 13.3304 23.1106 15.7263C22.0288 14.2028 21.3981 12.3339 21.3981 10.3144C21.3981 5.15495 25.5325 0.974246 30.6304 0.974246C32.4742 0.974246 34.1822 1.51898 35.6231 2.46229L35.6275 2.46672Z" fill="#03C136" />
                                    <path d="M32.8508 5.90341V14.5217H30.4158V10.3233L28.515 13.5474H28.296L26.3953 10.3233V14.5217H23.9602V5.90341H26.3953L28.4055 9.41095L30.4158 5.90341H32.8508Z" fill="#E7F3EA" />
                                    <path d="M36.1968 9.5571C36.3107 9.13637 36.5341 8.81307 36.8669 8.58278C37.1998 8.35248 37.5852 8.23734 38.0231 8.23734V10.6997C37.537 10.6333 37.1078 10.7307 36.7443 10.9876C36.3808 11.2444 36.1968 11.6607 36.1968 12.2232V14.5128H33.9457V8.35691H36.1968V9.5571Z" fill="#E7F3EA" />
                                    <path d="M48.3765 4.87594H52.4145L49.143 15.7307C48.67 17.1479 47.9298 18.1665 46.9313 18.7998C45.9327 19.4287 44.6101 19.7121 42.9677 19.6457V16.2356C43.6203 16.2356 44.1239 16.1869 44.4699 16.0894C44.8159 15.992 45.0918 15.8149 45.2977 15.5536L41.4524 4.87152H45.4904L47.2028 10.0708L48.3765 4.87152V4.87594ZM57.4555 14.8848C58.9051 14.8848 60.1314 14.3933 61.13 13.4056C62.1285 12.418 62.6322 11.2001 62.6322 9.7431C62.6322 8.28605 62.1329 7.06816 61.13 6.08055C60.1314 5.09295 58.9051 4.60136 57.4555 4.60136C56.0058 4.60136 54.7795 5.09295 53.781 6.08055C52.7824 7.06816 52.2788 8.28605 52.2788 9.7431C52.2788 11.2001 52.7824 12.418 53.7897 13.4056C54.797 14.3933 56.019 14.8848 57.4555 14.8848ZM56.2905 10.9787C55.9883 10.6598 55.8394 10.248 55.8394 9.7431C55.8394 9.23823 55.9883 8.82636 56.2905 8.50749C56.5927 8.18862 56.9781 8.02919 57.4555 8.02919C57.9329 8.02919 58.3183 8.18862 58.6205 8.50749C58.9226 8.82636 59.0716 9.23823 59.0716 9.7431C59.0716 10.248 58.9226 10.6598 58.6205 10.9787C58.3183 11.2976 57.9329 11.457 57.4555 11.457C56.9781 11.457 56.5927 11.2976 56.2905 10.9787ZM70.3053 5.7484C69.6877 4.98223 68.8293 4.60136 67.7257 4.60136C66.4293 4.60136 65.3738 5.08852 64.5504 6.06284C63.7315 7.03716 63.3198 8.26391 63.3198 9.7431C63.3198 11.2223 63.7315 12.449 64.5504 13.4234C65.3694 14.3977 66.4293 14.8848 67.7257 14.8848C68.8293 14.8848 69.6877 14.504 70.3053 13.7378V14.6147H73.8659V0.978676H70.3053V5.7484ZM67.3534 11.0451C67.0381 10.6953 66.8804 10.2613 66.8804 9.73867C66.8804 9.21608 67.0381 8.7865 67.3534 8.4322C67.6687 8.08233 68.0804 7.90518 68.5928 7.90518C69.1052 7.90518 69.5213 8.08233 69.8323 8.4322C70.1476 8.78207 70.3053 9.21608 70.3053 9.73867C70.3053 10.2613 70.1476 10.6953 69.8323 11.0451C69.5169 11.395 69.1052 11.5722 68.5928 11.5722C68.0804 11.5722 67.6687 11.395 67.3534 11.0451ZM81.9244 5.7484C81.3068 4.98223 80.4484 4.60136 79.3448 4.60136C78.0484 4.60136 76.9929 5.08852 76.1695 6.06284C75.3506 7.03716 74.9389 8.26391 74.9389 9.7431C74.9389 11.2223 75.3506 12.449 76.1695 13.4234C76.9885 14.3977 78.0484 14.8848 79.3448 14.8848C80.4484 14.8848 81.3068 14.504 81.9244 13.7378V14.6147H85.485V4.87594H81.9244V5.75283V5.7484ZM78.9725 11.0451C78.6572 10.6953 78.4995 10.2613 78.4995 9.73867C78.4995 9.21608 78.6572 8.7865 78.9725 8.4322C79.2878 8.08233 79.6995 7.90518 80.2119 7.90518C80.7243 7.90518 81.1404 8.08233 81.4514 8.4322C81.7667 8.78207 81.9244 9.21608 81.9244 9.73867C81.9244 10.2613 81.7667 10.6953 81.4514 11.0451C81.136 11.395 80.7243 11.5722 80.2119 11.5722C79.6995 11.5722 79.2835 11.395 78.9725 11.0451Z" fill="#E7F3EA" />
                                    <path d="M88.0105 3.8042V0.643547H86.8942V0H89.8839V0.643547H88.7701V3.8042H88.0105Z" fill="#E7F3EA" />
                                    <path d="M90.3663 3.8042V0H91.5031L92.1857 2.59495L92.8606 0H94V3.8042H93.2943V0.809624L92.5475 3.8042H91.8162L91.072 0.809624V3.8042H90.3663Z" fill="#E7F3EA" />
                                    <path d="M5.79795 13.1266C4.13808 12.0505 2.63587 10.7528 1.32637 9.27365C2.18915 10.744 3.57749 12.1567 5.80233 13.1665C5.80233 13.1665 5.80233 13.1532 5.79795 13.1266ZM7.19067 13.9548C7.33958 15.7396 7.91331 17.7768 9.22281 20C9.22281 20 10.5323 18.2595 11.1323 15.6111C9.75712 15.1904 8.43886 14.6368 7.19067 13.9592V13.9548Z" fill="#03C136" />
                                    <path d="M10.8301 3.87948C10.8301 4.30021 10.6637 4.68108 10.3965 4.95566C9.46807 4.71208 8.58777 4.35778 7.7644 3.91048C7.7644 3.89277 7.7644 3.87948 7.7644 3.8662C7.76878 3.00703 8.46076 2.31615 9.30602 2.32057C10.1557 2.32057 10.8389 3.02474 10.8345 3.87948H10.8301Z" fill="#03C136" />
                                    <path d="M18.5908 4.20278C17.0317 4.94237 15.293 5.35424 13.4623 5.35424C12.8798 5.35424 12.3104 5.31438 11.7542 5.23467C12.8053 4.19392 14.8506 2.78559 18.4594 2.36486C18.4594 2.36486 18.6083 3.0956 18.5952 4.20278H18.5908Z" fill="#03C136" />
                                    <path d="M7.75126 6.39056C7.27826 6.92201 6.91475 7.50217 6.63446 8.09562C4.0899 7.03273 1.83441 5.40296 0.025626 3.36132C0.0694221 2.68816 0.157014 2.28072 0.157014 2.28072C6.05635 3.02031 7.75126 6.39499 7.75126 6.39499V6.39056Z" fill="#03C136" />
                                    <path d="M10.3965 4.95566C10.1163 5.24795 9.72208 5.42953 9.2885 5.4251C8.45638 5.42067 7.78192 4.74751 7.7644 3.91048C8.59215 4.35778 9.47245 4.71208 10.3965 4.95566Z" fill="#03C136" />
                                    <path d="M18.5908 4.20278C18.5777 5.50482 18.3412 7.32945 17.3645 9.09208C16.1426 9.35337 14.8813 9.49066 13.5893 9.49066C13.1864 9.49066 12.7922 9.47738 12.398 9.4508C12.1221 8.42777 11.6404 7.34274 10.8214 6.40828C10.8214 6.40828 11.0841 5.89897 11.7542 5.23467C12.3148 5.31438 12.8842 5.35424 13.4623 5.35424C15.293 5.35424 17.0317 4.94237 18.5908 4.20278Z" fill="#03C136" />
                                    <path d="M10.782 9.26923C9.83596 9.12308 8.90748 8.90164 8.01842 8.60492C8.61404 7.19216 9.28412 6.39499 9.28412 6.39499C9.95858 7.36931 10.4447 8.33034 10.782 9.2648V9.26923Z" fill="#03C136" />
                                    <path d="M5.79795 13.1266C4.13808 12.0505 2.63587 10.7528 1.32637 9.27365C1.28695 9.2028 1.24754 9.13636 1.20812 9.06551C0.0168668 6.90872 -0.0619663 4.65451 0.025626 3.36132C1.83441 5.40739 4.0899 7.03273 6.63446 8.09562C5.56583 10.3675 5.76292 12.7901 5.79795 13.1311V13.1266Z" fill="#03C136" />
                                    <path d="M11.1323 15.6067C9.75712 15.186 8.43886 14.6324 7.19067 13.9548C7.00235 11.7316 7.47096 9.90696 8.01842 8.60492C8.91186 8.89721 9.83596 9.11865 10.782 9.26923C11.6272 11.6209 11.5396 13.8219 11.1323 15.6111V15.6067Z" fill="#03C136" />
                                    <path d="M17.3645 9.08765C16.5105 10.6421 15.0696 12.1479 12.7046 13.2019C12.7046 13.2019 12.9367 11.4393 12.3936 9.44637C12.7878 9.47295 13.1864 9.48623 13.5849 9.48623C14.8813 9.48623 16.1426 9.34894 17.3601 9.08765H17.3645Z" fill="#03C136" />
                                </svg>
                            </Typography>
                            <Typography sx={{ color: "#E7F3EA", fontWeight: 700, fontSize: "12px" }}>India's Biggest Healthcare Platform</Typography>
                        </Box>
                        <Box sx={{ display: "flex", alignItems: "center", height: "68px", gap: 2 }}>
                            <TextField
                                variant="outlined"
                                placeholder="Search..."
                                InputProps={{
                                    style: {
                                        width: '400px',
                                        height: '36px',
                                        borderRadius: '11px',
                                        border: '2px solid #000000CC',
                                        backgroundColor: '#FFFFFF',
                                        paddingLeft: '4px',
                                    },
                                }}
                                InputLabelProps={{
                                    style: {
                                        display: 'none',
                                    },
                                }}
                            />
                            <Box sx={{ position: "relative" }}>
                                <svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clipPath="url(#clip0_48_352)">
                                        <path d="M25.416 14.9021V12.0977C25.416 8.00652 22.6966 4.539 18.9706 3.40645V2.13672C18.9706 0.682832 17.7878 -0.5 16.3339 -0.5C14.88 -0.5 13.6972 0.682832 13.6972 2.13672V3.40645C9.97124 4.539 7.2519 8.00646 7.2519 12.0977V14.9021C7.2519 18.4957 5.88209 21.9033 3.39485 24.4971C3.1511 24.7513 3.0826 25.1264 3.22077 25.4503C3.35893 25.7742 3.67709 25.9844 4.02924 25.9844H12.0278C12.4361 27.9878 14.2117 29.5 16.3339 29.5C18.4562 29.5 20.2317 27.9878 20.64 25.9844H28.6386C28.9908 25.9844 29.3089 25.7742 29.447 25.4503C29.5852 25.1264 29.5167 24.7513 29.273 24.4971C26.7858 21.9033 25.416 18.4957 25.416 14.9021ZM15.455 2.13672C15.455 1.65209 15.8493 1.25781 16.3339 1.25781C16.8186 1.25781 17.2128 1.65209 17.2128 2.13672V3.05828C16.9236 3.03039 16.6304 3.01562 16.3339 3.01562C16.0374 3.01562 15.7443 3.03039 15.455 3.05828V2.13672ZM16.3339 27.7422C15.1881 27.7422 14.2112 27.0074 13.8484 25.9844H18.8195C18.4567 27.0074 17.4797 27.7422 16.3339 27.7422ZM5.92358 24.2266C7.9252 21.5434 9.00971 18.2964 9.00971 14.9021V12.0977C9.00971 8.05908 12.2954 4.77344 16.3339 4.77344C20.3725 4.77344 23.6581 8.05908 23.6581 12.0977V14.9021C23.6581 18.2964 24.7427 21.5434 26.7443 24.2266H5.92358Z" fill="white" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_48_352">
                                            <rect width="30" height="30" fill="white" transform="translate(0.333862)" />
                                        </clipPath>
                                    </defs>
                                </svg>
                                <Box sx={{ background: "#C40D0D", borderRadius: "50%", width: "24px", height: "24px", position: "absolute", top: 1, right: -8, fontSize: "11px", fontWeight: 700, lineHeight: "20px", color: "#FFFFFF", textAlign: "center", display: "flex", alignItems: "center", justifyContent: "center" }}>287</Box>
                            </Box>
                        </Box>
                    </Container>
                </Box>
            </Box>



            <Container maxWidth="xl">
                <Box sx={{ display: "flex", alignItems: "center", justifyContent: "space-between" }}>
                    <Box sx={{ display: "flex", alignItems: "center", gap: 7, }}>
                        <Box>
                            <Box sx={{ width: "450px", height: "40px", marginTop: 1, marginBottom: 3, display: "flex", alignItems: "center", justifyContent: "space-between" }}>
                                <Typography id="demo-simple-select-label" sx={{ fontWeight: 700, lineHeight: "40px", fontSize: "34px", width: "581px" }}>Receptionist Dashboard</Typography>
                                <Typography sx={{ fontSize: 10 }}><ArrowDropDownIcon sx={{ fontSize: "40px" }} /></Typography>

                            </Box>

                        </Box>
                        <Box sx={{ display: "flex", alignItems: "center", gap: 1 }}>
                            <Typography sx={{ background: "#0DC44A", width: "6px", height: "6px", borderRadius: "50%" }}></Typography>
                            <Typography sx={{ fontWeight: 400, fontSize: "15px", lineHeight: "20px", color: "#000000CC", textAlign: "center" }}>Active</Typography>
                        </Box>
                    </Box>
                    <Box sx={{ display: "flex", alignItems: "center" }}>
                        <Button sx={{ width: "155px", height: "36px", borderRadius: "11px", background: "#B8B8B8", color: "#5F5F5F", fontWeight: 400, fontSize: "15px", lineHeight: "20px", textTransform: "capitalize", display: "flex", gap: 1 }}>
                            <Typography><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_17_1450)">
                                    <path d="M13 5.625H11.8738V3.05531C11.8738 1.23275 10.3598 -0.25 8.49884 -0.25C6.63788 -0.25 5.12384 1.23275 5.12384 3.05531V5.625H4C2.96613 5.625 2.125 6.46613 2.125 7.5V13.875C2.125 14.9089 2.96613 15.75 4 15.75H13C14.0339 15.75 14.875 14.9089 14.875 13.875V7.5C14.875 6.46613 14.0339 5.625 13 5.625ZM6.37384 3.05531C6.37384 1.922 7.32713 1 8.49884 1C9.67056 1 10.6238 1.922 10.6238 3.05531V5.625H6.37384V3.05531ZM13.625 13.875C13.625 14.2196 13.3446 14.5 13 14.5H4C3.65538 14.5 3.375 14.2196 3.375 13.875V7.5C3.375 7.15538 3.65538 6.875 4 6.875H13C13.3446 6.875 13.625 7.15538 13.625 7.5V13.875Z" fill="#5F5F5F" />
                                    <path d="M8.5 8.6875C7.86141 8.6875 7.34375 9.20516 7.34375 9.84375C7.34375 10.2515 7.555 10.6097 7.87384 10.8156V12.1875C7.87384 12.5327 8.15366 12.8125 8.49884 12.8125C8.844 12.8125 9.12384 12.5327 9.12384 12.1875V10.817C9.44397 10.6114 9.65625 10.2525 9.65625 9.84375C9.65625 9.20516 9.13859 8.6875 8.5 8.6875Z" fill="#5F5F5F" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_17_1450">
                                        <rect width="16" height="16" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>
                            </Typography>
                            <Typography>Add New User</Typography>
                        </Button>
                        <Button>
                            <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_17_1458)">
                                    <path d="M29.4011 19.9406L28.4027 19.1187C27.7188 18.5556 27.72 17.5092 28.4027 16.9473L29.4011 16.1254C30.1116 15.5405 30.2934 14.5374 29.8332 13.7403L27.8618 10.3257C27.4015 9.5286 26.4418 9.18454 25.5802 9.50732L24.3692 9.96102C23.5397 10.2717 22.634 9.74769 22.4887 8.87535L22.2761 7.59969C22.1248 6.69191 21.347 6.03299 20.4266 6.03299H16.4837C15.5634 6.03299 14.7855 6.69191 14.6342 7.59974L14.4216 8.87535C14.276 9.74924 13.3691 10.2712 12.5412 9.96107L11.3302 9.50732C10.4685 9.18454 9.50884 9.52865 9.04858 10.3257L7.07716 13.7403C6.61698 14.5373 6.79867 15.5404 7.50925 16.1254L8.50764 16.9473C9.19164 17.5103 9.19028 18.5567 8.50764 19.1186L7.5092 19.9405C6.79867 20.5255 6.61694 21.5286 7.07711 22.3256L9.04858 25.7403C9.5088 26.5373 10.4682 26.8814 11.3302 26.5586L12.5411 26.1049C13.3708 25.7941 14.2762 26.3185 14.4216 27.1906L14.6342 28.4661C14.7855 29.3741 15.5634 30.033 16.4837 30.033H20.4266C21.3469 30.033 22.1248 29.3741 22.276 28.4662L22.4886 27.1907C22.6342 26.317 23.541 25.7947 24.3691 26.105L25.5802 26.5587C26.4421 26.8815 27.4015 26.5374 27.8618 25.7403L29.8333 22.3256C30.2934 21.5286 30.1116 20.5255 29.4011 19.9406ZM26.238 24.8028L25.027 24.3491C23.0911 23.6239 20.9784 24.8474 20.6392 26.8824L20.4266 28.158H16.4837L16.2711 26.8824C15.9313 24.8435 13.8155 23.6253 11.8834 24.3491L10.6724 24.8028L8.70095 21.3882L9.69934 20.5663C11.2954 19.2523 11.2921 16.8109 9.69934 15.4997L8.70095 14.6778L10.6724 11.2632L11.8834 11.7169C13.8193 12.442 15.932 11.2186 16.2711 9.1836L16.4837 7.90799H20.4266L20.6392 9.1836C20.979 11.2228 23.0949 12.4405 25.0269 11.7169L26.2379 11.2632L28.2098 14.6773C28.2098 14.6773 28.2097 14.6775 28.2093 14.6778L27.211 15.4997C25.615 16.8135 25.6181 19.255 27.2109 20.5662L28.2093 21.3881L26.238 24.8028ZM18.4552 13.408C15.9049 13.408 13.8302 15.4828 13.8302 18.033C13.8302 20.5832 15.9049 22.658 18.4552 22.658C21.0054 22.658 23.0802 20.5832 23.0802 18.033C23.0802 15.4828 21.0054 13.408 18.4552 13.408ZM18.4552 20.783C16.9388 20.783 15.7052 19.5493 15.7052 18.033C15.7052 16.5166 16.9388 15.283 18.4552 15.283C19.9715 15.283 21.2052 16.5166 21.2052 18.033C21.2052 19.5493 19.9715 20.783 18.4552 20.783Z" fill="black" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_17_1458">
                                        <rect width="24" height="24" fill="white" transform="translate(6.45508 6.03299)" />
                                    </clipPath>
                                </defs>
                            </svg>

                        </Button>
                    </Box>
                </Box>



                <Box>
                    <Box display="flex" alignItems="center" paddingBottom={3} >
                        <AvatarGroup max={4} spacing="small">
                            <Avatar alt="Sai" src="/path/to/sai.jpg" sx={{ width: "32px", height: "32px" }} />
                            <Avatar alt="Ramya" src="/path/to/ramya.jpg" sx={{ width: "32px", height: "32px" }} />
                            <Avatar alt="Nagendra" src="/path/to/nagendra.jpg" sx={{ width: "32px", height: "32px" }} />
                            <Avatar alt="User 4" src="/path/to/user4.jpg" sx={{ width: "32px", height: "32px" }} />
                            {/* <Avatar alt="User 5" src="/path/to/user5.jpg" sx={{width:"32px", height:"32px"}}/> */}
                        </AvatarGroup>
                        <Typography variant="body2" ml={1} sx={{ color: "#00000066", fontWeight: 400, fontSize: "15px" }}>
                            Sai, Ramya, Nagendra +2 others
                        </Typography>
                    </Box>
                </Box>

                <Box>
                    <Grid container spacing={5} justifyContent="start">
                        {menuItems?.map((item, index) => (
                            <Grid item key={index}>
                                <Button onClick={() => { handleSelectTitile(item) }} sx={{
                                    fontWeight: 400,
                                    fontSize: "15px",
                                    lineHeight: "20px",
                                    textTransform: "capitalize",
                                    background: item === title ? "#03C136" : "transparent", 
                                    color:item === title ? "#FFFFFF" : "#000000CC",
                                    borderTopLeftRadius: "12px",
                                    borderTopRightRadius:"12px", 
                                    "&:hover": {
                                        background: item === title ? "#03C136" : "rgba(3, 193, 54, 0.1)", 
                                        color:item === title ? "#FFFFFF" : "#000000CC"
                                    }
                                }}>
                                    {item}
                                </Button>
                            </Grid>
                        ))}
                    </Grid>
                </Box>
                <Divider sx={{ height: "2px", color: "#00000033" }} />
            </Container>
        </section>
    )
}

export default TopBar;
